{"version":3,"sources":["../src/index.ts","../src/maybe/index.ts"],"sourcesContent":["export { default as Maybe } from './maybe'\r\n","type Callback<InitialType, TransformedType> = (\n  value: InitialType,\n) => TransformedType\n\ntype CallbackChain<InitialType, TransformedType> = (\n  value: InitialType,\n) => Maybe<TransformedType>\n\ntype GetSafeErrorReturn = {\n  success: false\n}\n\ntype GetSafeSuccessReturn<InicialType> = {\n  success: true\n  data: InicialType\n}\n\ntype GetSafeReturn<InicialType> =\n  | GetSafeSuccessReturn<InicialType>\n  | GetSafeErrorReturn\n\nexport default class Maybe<InitialType> {\n  constructor(private readonly value: InitialType) {}\n\n  public static of<T>(value: T): Maybe<T> {\n    return new Maybe<T>(value)\n  }\n\n  public static empty(): Maybe<any> {\n    return Maybe.of(null)\n  }\n\n  public map<TransformedType>(\n    callbackMap: Callback<InitialType, TransformedType>,\n  ): Maybe<TransformedType> {\n    if (this.isEmpty()) return Maybe.of(null) as Maybe<TransformedType>\n    return Maybe.of(callbackMap(this.value))\n  }\n\n  public isEmpty(): this is Maybe<null> {\n    return this.value === null || this.value === undefined\n  }\n\n  public chain<TransformedType>(\n    callbackChain: CallbackChain<InitialType, TransformedType>,\n  ): Maybe<TransformedType> {\n    const chained = this.map(callbackChain).join() as Maybe<TransformedType>\n    if (chained === null) return Maybe.of(null) as Maybe<TransformedType>\n    return chained\n  }\n\n  private join(): InitialType {\n    return this.value\n  }\n\n  public getOrElse<DefaultType = InitialType>(\n    defaultValue: DefaultType,\n  ): InitialType | DefaultType {\n    return this.isEmpty() ? defaultValue : this.value\n  }\n\n  public getSafe(): GetSafeReturn<InitialType> {\n    if (this.isEmpty()) {\n      return {\n        success: false,\n      }\n    }\n    return {\n      success: true,\n      data: this.value,\n    }\n  }\n}\n"],"mappings":"yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,WAAAE,IAAA,eAAAC,EAAAH,GCqBA,IAAqBI,EAArB,KAAwC,CACtC,YAA6BC,EAAoB,CAApB,WAAAA,CAAqB,CAElD,OAAc,GAAMA,EAAoB,CACtC,OAAO,IAAID,EAASC,CAAK,CAC3B,CAEA,OAAc,OAAoB,CAChC,OAAOD,EAAM,GAAG,IAAI,CACtB,CAEO,IACLE,EACwB,CACxB,OAAI,KAAK,QAAQ,EAAUF,EAAM,GAAG,IAAI,EACjCA,EAAM,GAAGE,EAAY,KAAK,KAAK,CAAC,CACzC,CAEO,SAA+B,CACpC,OAAO,KAAK,QAAU,MAAQ,KAAK,QAAU,MAC/C,CAEO,MACLC,EACwB,CACxB,IAAMC,EAAU,KAAK,IAAID,CAAa,EAAE,KAAK,EAC7C,OAAIC,IAAY,KAAaJ,EAAM,GAAG,IAAI,EACnCI,CACT,CAEQ,MAAoB,CAC1B,OAAO,KAAK,KACd,CAEO,UACLC,EAC2B,CAC3B,OAAO,KAAK,QAAQ,EAAIA,EAAe,KAAK,KAC9C,CAEO,SAAsC,CAC3C,OAAI,KAAK,QAAQ,EACR,CACL,QAAS,EACX,EAEK,CACL,QAAS,GACT,KAAM,KAAK,KACb,CACF,CACF","names":["src_exports","__export","Maybe","__toCommonJS","Maybe","value","callbackMap","callbackChain","chained","defaultValue"]}