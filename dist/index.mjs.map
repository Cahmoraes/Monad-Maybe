{"version":3,"sources":["../src/maybe/index.ts"],"sourcesContent":["type Callback<InitialType, TransformedType> = (\n  value: InitialType,\n) => TransformedType\n\ntype CallbackChain<InitialType, TransformedType> = (\n  value: InitialType,\n) => Maybe<TransformedType>\n\ntype GetSafeErrorReturn = {\n  success: false\n}\n\ntype GetSafeSuccessReturn<InicialType> = {\n  success: true\n  data: InicialType\n}\n\ntype GetSafeReturn<InicialType> =\n  | GetSafeSuccessReturn<InicialType>\n  | GetSafeErrorReturn\n\nexport default class Maybe<InitialType> {\n  constructor(private readonly value: InitialType) {}\n\n  public static of<T>(value: T): Maybe<T> {\n    return new Maybe<T>(value)\n  }\n\n  public static empty(): Maybe<any> {\n    return Maybe.of(null)\n  }\n\n  public map<TransformedType>(\n    callbackMap: Callback<InitialType, TransformedType>,\n  ): Maybe<TransformedType> {\n    if (this.isNothing()) return Maybe.of(null) as Maybe<TransformedType>\n    return Maybe.of(callbackMap(this.value))\n  }\n\n  public isNothing(): this is null | undefined {\n    return this.value === null || this.value === undefined\n  }\n\n  public chain<TransformedType>(\n    callbackChain: CallbackChain<InitialType, TransformedType>,\n  ): Maybe<TransformedType> {\n    const chained = this.map(callbackChain).join() as Maybe<TransformedType>\n    if (chained === null) return Maybe.of(null) as Maybe<TransformedType>\n    return chained\n  }\n\n  private join(): InitialType {\n    return this.value\n  }\n\n  public getOrElse<OptionalType = InitialType>(\n    defaultValue: OptionalType,\n  ): InitialType | OptionalType {\n    return this.isNothing() ? defaultValue : this.value\n  }\n\n  public getSafe(): GetSafeReturn<InitialType> {\n    if (this.isNothing()) {\n      return {\n        success: false,\n      }\n    }\n    return {\n      success: true,\n      data: this.value,\n    }\n  }\n}\n"],"mappings":"AAqBA,IAAqBA,EAArB,KAAwC,CACtC,YAA6BC,EAAoB,CAApB,WAAAA,CAAqB,CAElD,OAAc,GAAMA,EAAoB,CACtC,OAAO,IAAID,EAASC,CAAK,CAC3B,CAEA,OAAc,OAAoB,CAChC,OAAOD,EAAM,GAAG,IAAI,CACtB,CAEO,IACLE,EACwB,CACxB,OAAI,KAAK,UAAU,EAAUF,EAAM,GAAG,IAAI,EACnCA,EAAM,GAAGE,EAAY,KAAK,KAAK,CAAC,CACzC,CAEO,WAAsC,CAC3C,OAAO,KAAK,QAAU,MAAQ,KAAK,QAAU,MAC/C,CAEO,MACLC,EACwB,CACxB,IAAMC,EAAU,KAAK,IAAID,CAAa,EAAE,KAAK,EAC7C,OAAIC,IAAY,KAAaJ,EAAM,GAAG,IAAI,EACnCI,CACT,CAEQ,MAAoB,CAC1B,OAAO,KAAK,KACd,CAEO,UACLC,EAC4B,CAC5B,OAAO,KAAK,UAAU,EAAIA,EAAe,KAAK,KAChD,CAEO,SAAsC,CAC3C,OAAI,KAAK,UAAU,EACV,CACL,QAAS,EACX,EAEK,CACL,QAAS,GACT,KAAM,KAAK,KACb,CACF,CACF","names":["Maybe","value","callbackMap","callbackChain","chained","defaultValue"]}